<article class="container-fluid px-5 py-2">
	<section name="title" class="py-2">
		<span class="h1">
			Categorías
		</span>
	</section>

	<section *ngIf="canAggregate" name="actions" class="d-flex justify-content-end">
		<button class="btn btn-info" (click)="clickAddCategory()">
			<i class="bi bi-plus-lg"></i>
			Agregar
		</button>
	</section>

	<section name="categories">
		<div class="container-fluid ">
			<div class="row mt-3 d-flex align-items-stretch">
				@for (category of categories; track $index) {
				<div class="col-md-6 col-xl-3 mb-3">
					<app-category [category]="category" [onDeleted]="removeCategory.bind(this)" />
				</div>
				}
			</div>
		</div>
	</section>
</article>

@defer (on timer(1000ms)) {
<article class="container mt-3" *ngIf="categories.length <= 0">
	<div class="alert alert-warning fade show" role="alert">
		<h4 class="alert-heading">No hay categorías</h4>

		<p>
			No hay categorías registradas en el sistema.
		</p>

		<hr />

		<p class="mb-0" *ngIf="canAggregate">
			Para agregar una categoría, haga clic en el botón "Agregar" en la esquina superior derecha.
		</p>

		<p class="mb-0" *ngIf="!canAggregate">
			Para agregar una categoría, contacte al administrador del sistema.
		</p>

	</div>
</article>
}

<app-category-editor [events]="offcanvas" />